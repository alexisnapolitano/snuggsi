class TokenList{constructor(e,t){const n=[],s=/{(\w+|#)}/,o=e=>[].slice.call(e).map(e=>s.test(e.value)&&n.push(e)),r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,e=>e.tagName?o(e.attributes):s.test(e.textContent)&&n.push(e),null);for(;r.nextNode(););for(e of n)(e.text=e.textContent).match(/[^{]+(?=})/g).map(t=>(this[t]||(this[t]=[])).push(e))}bind(e){Object.keys(this).map(e=>this[e].map(e=>e.textContent=e.text)&&e).map(t=>this[t].map(n=>n.textContent=n.textContent.split("{"+t+"}").join(e[t])))}}const HTMLElement=(e=>{function t(){}return t.prototype=e,t})(window.HTMLElement.prototype);(e=>{function t(e,t,n){for(n of this.querySelectorAll("[slot]"))(e.content||e).querySelector("slot[name="+n.getAttribute("slot")+"]").outerHTML=n.outerHTML;this.innerHTML=e.innerHTML}const n=new XMLHttpRequest;for(let s of document.querySelectorAll('link[id*="-"]'))n.open("GET",s.href),n.responseType="document",n.onload=function(){const e=this.response.querySelectorAll.bind(this.response),n=this.link,s=n.nextSibling;for(let o of document.querySelectorAll(n.id))t.call(o,e("template")[0].cloneNode(!0));for(let t of e("style,link,script")){let e=t.getAttribute("as"),o=document.createElement(t.localName);["src","href","textContent","rel"].map(((e,t)=>n=>t[n]&&(e[n]=t[n]))(o,t)),"style"==e&&(o.rel="stylesheet"),n.parentNode.insertBefore(o,s),"script"==e&&(n.parentNode.insertBefore(document.createElement("script"),s).src=t.href)}},n.link=s,n.send()})();const Template=function(e){return e.length&&(e=document.querySelector("template[name="+e+"]")),e.hidden=!0,e.HTML=e.innerHTML,e.bind=function(e,t){const n=document.createElement("section");for(let s of this.dependents||[])s.parentNode.removeChild(s);n.innerHTML=[].concat(e).reduce((e,t,n)=>{let s=this.HTML;"object"!=typeof t&&(t={self:t}),t["#"]=n;for(let o in t)s=s.split("{"+o+"}").join(t[o]);return e+s},""),t=this.nextSibling;for(let s of this.dependents=[].slice.call(n.childNodes))this.parentNode.insertBefore(s,t)}.bind(e),e};!window.customElements&&(window.customElements={}),new class{constructor({define:e,get:t,whenDefined:n}=customElements){window.customElements.define=this._define(void 0).bind(this)}_define(e=(e=>{})){return(t,n)=>e.apply(window.customElements,this.register(t,n))}register(e,t){return(this[e]=t).localName=e,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.queue(...arguments)):this.queue(...arguments)(),arguments}queue(e,t){return n=>[].slice.call(document.getElementsByTagName(e)).map(this.upgrade(t))}upgrade(e){return t=>Object.setPrototypeOf(t,e.prototype).connectedCallback&&t.connectedCallback()}swizzle(e,...t){}};const ParentNode=e=>class extends e{select(){return this.selectAll(...arguments)[0]}selectAll(e,...t){return e=[].concat(e),[].slice.call(this.querySelectorAll(t.reduce((t,n)=>t+n+e.shift(),e.shift())))}},EventTarget=e=>class extends e{on(e,t){this.addEventListener(e,this.renderable(t))}renderable(e){return t=>!1!==e.call(this,t)&&t.defaultPrevented||this.render()}},GlobalEventHandlers=e=>class extends e{onconnect(){return this.templates=this.selectAll("template[name]").map(Template),this.tokens=new TokenList(this),super.onconnect&&super.onconnect(),this}reflect(e){/^on/.test(e)&&e in HTMLElement.prototype&&this.on(e.substr(2),this[e])}register(e,t,n){for(let s of e.attributes)/^on/.test(n=s.name)&&(t=(/{\s*(\w+)/.exec(e[n])||[])[1])&&(e[n]=this.renderable(this[t]))}},Custom=e=>class extends(ParentNode(EventTarget(GlobalEventHandlers(e)))){connectedCallback(){this.context={},super.initialize&&super.initialize(),Object.getOwnPropertyNames(e.prototype).map(this.reflect,this),this.onconnect().render()}render(e){for(e of this.templates)e.bind(this[e.getAttribute("name")]);this.tokens.bind(this),[this,...this.selectAll("*")].map(this.register,this),super.onidle&&super.onidle()}},Element=(e=>{const t=(e,t)=>n=>window.customElements.define(e+"",Custom(n),{constructor:t});return t.prototype=e.prototype,t})(window.Element);