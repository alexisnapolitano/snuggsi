const HTMLElement=(e=>{function t(){}return t.prototype=window.HTMLElement.prototype,t})();class DOMTokenList{constructor(e,t){const n=[],s=/{(\w+|#)}/,o=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,e=>e.localName?[].slice.call(e.attributes).map(e=>s.test(e.value)&&n.push(e)):s.test(e.textContent)&&n.push(e),null);for(;o.nextNode(););for(e of n)(e.text=e.textContent).match(/[^{]+(?=})/g).map(t=>(this[t]||(this[t]=[])).push(e))}bind(e){Object.keys(this).map(e=>this[e].map(e=>e.textContent=e.text)&&e).map(t=>this[t].map(n=>n.textContent=n.textContent.split("{"+t+"}").join(e[t])))}}(e=>{function t(e){const t=new XMLHttpRequest;t.open("GET",e.href),t.responseType="document",t.onload=s(e),t.send()}function n(e,t,n){for(n of this.querySelectorAll("[slot]"))(e.content||e).querySelector("slot[name="+n.getAttribute("slot")+"]").outerHTML=n.outerHTML;this.innerHTML=e.innerHTML}const s=e=>(function(){const t=e.nextSibling,s=(e,t)=>n=>t[n]&&(e[n]=t[n]);for(let o of document.querySelectorAll(e.id))n.call(o,this.response.querySelectorAll("template")[0].cloneNode(!0));for(let n of this.response.querySelectorAll("style,link,script")){let o=n.getAttribute("as"),l=document.createElement(n.localName);["src","href","textContent","rel"].map(s(l,n)),"style"==o&&(l.rel="stylesheet"),e.parentNode.insertBefore(l,t),"script"==o&&(e.parentNode.insertBefore(document.createElement("script"),t).src=n.href),/script|test/.test(o)||s(l,n)("as")}});[].slice.call(document.querySelectorAll('link[rel^=pre][id*="-"]')).map(t),document.documentElement.addEventListener("load",console.dir),new MutationObserver(e=>{const n=e.map(e=>e.addedNodes.length);console.warn("SNUGGS",document.readyState,n);for(let s of e)for(let e of s.addedNodes)"link"==e.localName&&/^pre/.test(e.rel)&&/\-/.test(e.id)&&t(e),/\-/.test(e.localName)&&console.warn("ce",e.localName,document.readyState)}).observe(document.documentElement,{childList:!0,subtree:!0})})();const Template=e=>{e.length&&(e=document.querySelector("template[name="+e+"]"));let t=e.innerHTML,n=e.nextSibling;return e.innerHTML="",e.bind=function(e){const s=document.createElement("section");for(let t of this.dependents||[])t.parentNode.removeChild(t);s.innerHTML=[].concat(e).reduce((e,n,s)=>{let o=t;"object"!=typeof n&&(n={self:n}),n["#"]=s;for(let t in n)o=o.split("{"+t+"}").join(n[t]);return e+o},"");for(let t of this.dependents=[].slice.call(s.childNodes))this.parentNode.insertBefore(t,n)}.bind(e),e};!window.customElements&&(customElements={}),new class{constructor(){customElements.define=this.define.bind(this,e=>0)}define(e,t,n){e.apply(customElements,this.register(t,n))}register(){return"loading"==document.readyState?addEventListener("DOMContentLoaded",this.queue(...arguments)):this.queue(...arguments)(),arguments}queue(e,t){return n=>[].slice.call(document.getElementsByTagName(e)).map(this.upgrade,t.prototype)}upgrade(e){Object.setPrototypeOf(e,this).connectedCallback&&e.connectedCallback()}swizzle(e){return new Function("class extends HTMLElement {}")}};const ParentNode=e=>class extends e{select(){return this.selectAll(...arguments)[0]}selectAll(e,...t){return e=[].concat(e),[].slice.call(this.querySelectorAll(t.reduce((t,n)=>t+n+e.shift(),e.shift())))}},EventTarget=e=>class extends e{on(e,t){this.addEventListener(e,this.renderable(t))}renderable(e){return t=>!1!==e.call(this,t)&&t.defaultPrevented||this.render()}},GlobalEventHandlers=e=>class extends e{onconnect(){this.templates=this.selectAll("template[name]").map(Template),this.tokens=new DOMTokenList(this),super.onconnect&&super.onconnect()}reflect(e){/^on/.test(e)&&e in HTMLElement.prototype&&this.on(e.substr(2),this[e])}register(e,t,n){for(let s of[].slice.call(e.attributes))/^on/.test(n=s.name)&&(t=(/{\s*(\w+)/.exec(e[n])||[])[1])&&(e[n]=this.renderable(this[t]))}},Custom=e=>class extends(ParentNode(EventTarget(GlobalEventHandlers(e)))){connectedCallback(){this.context={},super.initialize&&super.initialize(),Object.getOwnPropertyNames(e.prototype).map(this.reflect,this),this.onconnect(),this.render()}render(e){for(e of this.templates)e.bind(this[e.getAttribute("name")]);this.tokens.bind(this),[this].concat(this.selectAll("*")).map(this.register,this),super.onidle&&super.onidle()}},Element=e=>t=>customElements.define(e+"",Custom(t));