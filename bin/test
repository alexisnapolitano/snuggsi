#!/usr/bin/env bash

declare -rx PORT=${PORT:-1234}
declare -r  BIN="$SNUGGSI/node_modules/.bin"
declare -r  SPECS="$BIN/tap-spec"
declare -r  TEST="$BIN/tape --require $SNUGGSI"
declare -r  API="element"
declare -r  ENTRY="index.test"
declare -r  LIBRARIES=.,test,html-element # resource,middleware,server

TESTS=$NODE_PATH/${1:-"{$LIBRARIES,$API}"}/$ENTRY


echo
echo "ðŸš¨  Testing, Testing, 1,2,3, ..."
echo
echo "  Entry ðŸ‘‰  $ENTRY"
echo "  Suite ðŸ‘‰  $TESTS"
echo "  Snuggsi ãƒ„ $SNUGGSI"
echo


$TEST $TESTS | $SPECS
